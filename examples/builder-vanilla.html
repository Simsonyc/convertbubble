<!doctype html>
<html lang="fr">
<head>
Â  <meta charset="utf-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>ConvertBubble â€” Builder Live NeuroBreakâ„¢ V3.0</title>

Â  <style>
Â  Â  :root {
Â  Â  Â  --primary: linear-gradient(90deg, #ff7a18 0%, #00e0ff 100%);
Â  Â  Â  --bg: #0b0c14;
Â  Â  Â  --panel: #11131f;
Â  Â  Â  --text: #ffffff;
Â  Â  Â  --border: #1e2230;
Â  Â  Â  --input-bg: #0f111b;
Â  Â  Â  --shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
Â  Â  Â  --radius: 16px;
Â  Â  Â  --transition: all 0.25s ease;
Â  Â  }

Â  Â  [data-theme="light"] {
Â  Â  Â  --bg: #f7f8fb;
Â  Â  Â  --panel: #ffffff;
Â  Â  Â  --text: #11131f;
Â  Â  Â  --border: #dfe3ee;
Â  Â  Â  --input-bg: #f3f4f7;
Â  Â  Â  --shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
Â  Â  }

Â  Â  body {
Â  Â  Â  font-family: "Poppins", "Inter", system-ui, sans-serif;
Â  Â  Â  background: var(--bg);
Â  Â  Â  color: var(--text);
Â  Â  Â  margin: 0;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  min-height: 100vh;
Â  Â  Â  transition: var(--transition);
Â  Â  }

Â  Â  header {
Â  Â  Â  padding: 14px 20px;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  align-items: center;
Â  Â  Â  background: var(--panel);
Â  Â  Â  border-bottom: 1px solid var(--border);
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  }

Â  Â  header h1 {
Â  Â  Â  font-size: 16px;
Â  Â  Â  margin: 0;
Â  Â  Â  font-weight: 600;
Â  Â  Â  background: var(--primary);
Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  -webkit-text-fill-color: transparent;
Â  Â  }

Â  Â  .theme-toggle {
Â  Â  Â  background: var(--primary);
Â  Â  Â  border: none;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  width: 38px;
Â  Â  Â  height: 38px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  color: #fff;
Â  Â  Â  font-size: 16px;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  transition: transform 0.3s ease;
Â  Â  }
Â  Â  .theme-toggle:hover { transform: scale(1.1); }

Â  Â  main {
Â  Â  Â  flex: 1;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 12px;
Â  Â  Â  padding: 16px;
Â  Â  }

Â  Â  section {
Â  Â  Â  background: var(--panel);
Â  Â  Â  border: 1px solid var(--border);
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  padding: 14px;
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 8px;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  }

Â  Â  h3 {
Â  Â  Â  margin: 0 0 6px 0;
Â  Â  Â  font-size: 15px;
Â  Â  Â  font-weight: 600;
Â  Â  Â  background: var(--primary);
Â  Â  Â  -webkit-background-clip: text;
Â  Â  Â  -webkit-text-fill-color: transparent;
Â  Â  }

Â  Â  label {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 4px;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  input, select {
Â  Â  Â  padding: 10px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  border: 1px solid var(--border);
Â  Â  Â  background: var(--input-bg);
Â  Â  Â  color: var(--text);
Â  Â  Â  font-size: 14px;
Â  Â  Â  outline: none;
Â  Â  Â  transition: var(--transition);
Â  Â  }

Â  Â  input:focus, select:focus {
Â  Â  Â  border-color: #00e0ff;
Â  Â  Â  box-shadow: 0 0 6px rgba(0, 224, 255, 0.5);
Â  Â  }

Â  Â  button {
Â  Â  Â  padding: 10px 16px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  border: 1px solid transparent;
Â  Â  Â  font-weight: 600;
Â  Â  Â  cursor: pointer;
Â  Â  Â  color: var(--text);
Â  Â  Â  background: #14151f;
Â  Â  Â  transition: all 0.25s ease;
Â  Â  }

Â  Â  button:hover {
Â  Â  Â  border-image: var(--primary) 1;
Â  Â  Â  border-width: 1px;
Â  Â  Â  background: #1c1e2b;
Â  Â  Â  color: #fff;
Â  Â  Â  box-shadow: 0 0 8px rgba(0, 224, 255, 0.4);
Â  Â  }

Â  Â  .btn-row {
Â  Â  Â  display: flex;
Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  gap: 8px;
Â  Â  }

Â  Â  button#addCTA,
Â  Â  button#resetCTA,
Â  Â  button#open,
Â  Â  button#close,
Â  Â  button#download,
Â  Â  button#snippet {
Â  Â  Â  background: var(--primary);
Â  Â  Â  color: #fff;
Â  Â  Â  border: none;
Â  Â  Â  text-shadow: 0 1px 2px rgba(0,0,0,0.3);
Â  Â  }

Â  Â  iframe {
Â  Â  Â  width: 100%;
Â  Â  Â  border: none;
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  aspect-ratio: 16/9;
Â  Â  Â  background: rgba(0, 0, 0, 0.4);
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  backdrop-filter: blur(8px) saturate(130%);
Â  Â  Â  -webkit-backdrop-filter: blur(8px) saturate(130%);
Â  Â  Â  transition: all 0.3s ease;
Â  Â  }

Â  Â  @media (min-width: 768px) {
Â  Â  Â  main {
Â  Â  Â  Â  flex-direction: row;
Â  Â  Â  }
Â  Â  Â  .builder-panel {
Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  max-width: 380px;
Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  height: calc(100vh - 80px);
Â  Â  Â  Â  padding-right: 4px;
Â  Â  Â  }
Â  Â  Â  .preview-panel {
Â  Â  Â  Â  flex: 2;
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  }
Â  Â  Â  iframe {
Â  Â  Â  Â  max-width: 640px;
Â  Â  Â  }
Â  Â  }

Â  Â  ::-webkit-scrollbar {
Â  Â  Â  width: 6px;
Â  Â  }
Â  Â  ::-webkit-scrollbar-thumb {
Â  Â  Â  background: #00e0ff44;
Â  Â  Â  border-radius: 10px;
Â  Â  }
Â  </style>
</head>

<body data-theme="dark">
Â  <header>
Â  Â  <h1>ConvertBubble â€” Builder NeuroBreakâ„¢</h1>
Â  Â  <button class="theme-toggle" id="themeToggle"> </button>
Â  </header>

Â  <main>
Â  Â  <!-- === PANNEAU DE CONFIGURATION === -->
Â  Â  <div class="builder-panel">

Â  Â  Â  <!-- ThÃ¨me -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> ThÃ¨me</h3>
Â  Â  Â  Â  <label>Couleur primaire
Â  Â  Â  Â  Â  <input id="primary" type="color" value="#ff7a18">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <label>Forme
Â  Â  Â  Â  Â  <select id="shape">
Â  Â  Â  Â  Â  Â  <option value="circle">Rond</option>
Â  Â  Â  Â  Â  Â  <option value="rounded-rect">Rectangle arrondi</option>
Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <label>Animation
Â  Â  Â  Â  Â  <select id="animation">
Â  Â  Â  Â  Â  Â  <option value="none">Aucune</option>
Â  Â  Â  Â  Â  Â  <option value="pulse">Pulse</option>
Â  Â  Â  Â  Â  Â  <option value="bounce">Bounce</option>
Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  </label>
Â  Â  Â  </section>

Â  Â  Â  <!-- Branding -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> Branding</h3>
Â  Â  Â  Â  <label>Label
Â  Â  Â  Â  Â  <input id="brandLabel" type="text" placeholder="Ex : ConvertBubble">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <label>Couleur header
Â  Â  Â  Â  Â  <input id="brandColor" type="color" value="#00e0ff">
Â  Â  Â  Â  </label>
Â  Â  Â  </section>

Â  Â  Â  <!-- VidÃ©o -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> VidÃ©o</h3>
Â  Â  Â  Â  <label>URL vidÃ©o
Â  Â  Â  Â  Â  <input id="videoUrl" type="url" placeholder="https://.../video.mp4">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <label>Image poster
Â  Â  Â  Â  Â  <input id="poster" type="url" placeholder="https://.../image.jpg">
Â  Â  Â  Â  </label>
Â  Â  Â  </section>

Â  Â  Â  <!-- CTA -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> CTA</h3>
Â  Â  Â  Â  <label>Texte du bouton
Â  Â  Â  Â  Â  <input id="ctaLabel" type="text" placeholder="DÃ©couvrir maintenant">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <label>Lien du bouton
Â  Â  Â  Â  Â  <input id="ctaHref" type="url" placeholder="https://boostandgrow.io">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <div class="btn-row">
Â  Â  Â  Â  Â  <button id="addCTA">Ajouter</button>
Â  Â  Â  Â  Â  <button id="resetCTA">RÃ©initialiser</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>

Â  Â  Â  <!-- Position -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> Position</h3>
Â  Â  Â  Â  <div class="btn-row">
Â  Â  Â  Â  Â  <button data-pos="TL">TL</button>
Â  Â  Â  Â  Â  <button data-pos="TR">TR</button>
Â  Â  Â  Â  Â  <button data-pos="BL">BL</button>
Â  Â  Â  Â  Â  <button data-pos="BR">BR</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>

Â  Â  Â  <!-- ThÃ¨mes prÃ©dÃ©finis -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> ThÃ¨mes</h3>
Â  Â  Â  Â  <div class="btn-row">
Â  Â  Â  Â  Â  <button data-theme-name="coach">Coach</button>
Â  Â  Â  Â  Â  <button data-theme-name="agency">Agence</button>
Â  Â  Â  Â  Â  <button data-theme-name="infopreneur">Infopreneur</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>

Â  Â  Â  <!-- Export -->
Â  Â  Â  <section>
Â  Â  Â  Â  <h3> Export</h3>
Â  Â  Â  Â  <div class="btn-row">
Â  Â  Â  Â  Â  <button id="open">Ouvrir</button>
Â  Â  Â  Â  Â  <button id="close">Fermer</button>
Â  Â  Â  Â  Â  <button id="download">TÃ©lÃ©charger JSON</button>
Â  Â  Â  Â  Â  <button id="snippet">Copier Snippet</button>
Â  Â  Â  Â  Â  <button id="resetLocal" style="background:#ff4d4d;color:#fff;border:none;">
Â  Â  Â  Â  Â  Â  Effacer sauvegarde locale
Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  </section>
Â  Â  </div>

Â  Â  <!-- === ZONE DE PRÃ‰VISUALISATION === -->
Â  Â  <div class="preview-panel">
Â  Â  Â  <iframe id="pv" src="../public/preview.html"></iframe>
Â  Â  </div>
Â  </main>

Â  <!-- === SCRIPT BUILDER === -->
Â  <script src="../public/cb-builder.js"></script>
Â  <script>
Â  Â  // Dark/Light toggle
Â  Â  const toggle = document.getElementById("themeToggle");
Â  Â  const body Â  = document.body;
Â  Â  toggle.onclick = () => {
Â  Â  Â  const dark = body.getAttribute("data-theme") === "dark";
Â  Â  Â  body.setAttribute("data-theme", dark ? "light" : "dark");
Â  Â  Â  toggle.textContent = dark ? " " : " ";
Â  Â  };

Â  Â  (async function () {
Â  Â  Â  const iframe = document.getElementById("pv");
Â  Â  Â  await Builder.init({ iframe });
      // ======================================================
// ðŸŽžï¸ DEFAULT VIDEO PREVIEW POUR LA BULLE (OBLIGATOIRE)
// ======================================================
Builder.update({
  launcherContent: {
    type: "videoPreview",
    src: "https://convertbubble.vercel.app/assets/convertbubble-default.mp4",
    previewSeconds: 3
  }
});


Â  Â  Â  const primary Â  Â = document.getElementById("primary");
Â  Â  Â  const shape Â  Â  Â = document.getElementById("shape");
Â  Â  Â  const animation Â = document.getElementById("animation");
Â  Â  Â  const brandLabel = document.getElementById("brandLabel");
Â  Â  Â  const brandColor = document.getElementById("brandColor");
Â  Â  Â  const videoUrl Â  = document.getElementById("videoUrl");
Â  Â  Â  const poster Â  Â  = document.getElementById("poster");
Â  Â  Â  const ctaLabel Â  = document.getElementById("ctaLabel");
Â  Â  Â  const ctaHref Â  Â = document.getElementById("ctaHref");
Â  Â  Â  const addCTA Â  Â  = document.getElementById("addCTA");
Â  Â  Â  const resetCTA Â  = document.getElementById("resetCTA");
Â  Â  Â  const btnOpen Â  Â = document.getElementById("open");
Â  Â  Â  const btnClose Â  = document.getElementById("close");
Â  Â  Â  const btnDownload= document.getElementById("download");
Â  Â  Â  const btnSnippet = document.getElementById("snippet");
Â  Â  Â  const btnResetLocal = document.getElementById("resetLocal");

Â  Â  Â  // THEME
Â  Â  Â  primary.addEventListener("input", Â e => Builder.update({ theme: { primary: e.target.value }}));
Â  Â  Â  primary.addEventListener("change", e => Builder.update({ theme: { primary: e.target.value }}));

Â  Â  Â  shape.addEventListener("change", e =>
Â  Â  Â  Â  Builder.update({ theme: { shape: e.target.value }})
Â  Â  Â  );

Â  Â  Â  animation.addEventListener("change", e =>
Â  Â  Â  Â  Builder.update({ animation: e.target.value })
Â  Â  Â  );

Â  Â  Â  // BRANDING
Â  Â  Â  brandLabel.addEventListener("input", e =>
Â  Â  Â  Â  Builder.update({ branding: { label: e.target.value, enabled: true }})
Â  Â  Â  );
Â  Â  Â  brandColor.addEventListener("input", e =>
Â  Â  Â  Â  Builder.update({ branding: { color: e.target.value }})
Â  Â  Â  );

Â  Â  Â  // VIDEO
Â  Â  Â  videoUrl.addEventListener("change", e =>
Â  Â  Â  Â  Builder.update({ video: { src: e.target.value }})
Â  Â  Â  );
Â  Â  Â  poster.addEventListener("change", e =>
Â  Â  Â  Â  Builder.update({ video: { poster: e.target.value }})
Â  Â  Â  );

Â  Â  Â  // CTA
Â  Â  Â  let ctas = [];
Â  Â  Â  addCTA.addEventListener("click", () => {
Â  Â  Â  Â  const label = ctaLabel.value.trim();
Â  Â  Â  Â  const href Â = ctaHref.value.trim();
Â  Â  Â  Â  if (!label || !href) {
Â  Â  Â  Â  Â  alert("ComplÃ¨te le label et le lien du CTA");
Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }
Â  Â  Â  Â  ctas.push({ label, href });
Â  Â  Â  Â  Builder.update({ ctas });
Â  Â  Â  });

Â  Â  Â  resetCTA.addEventListener("click", () => {
Â  Â  Â  Â  ctas = [];
Â  Â  Â  Â  Builder.update({ ctas: [] });
Â  Â  Â  });

Â  Â  Â  // POSITION
Â  Â  Â  document.querySelectorAll("[data-pos]").forEach(btn => {
Â  Â  Â  Â  btn.addEventListener("click", () =>
Â  Â  Â  Â  Â  Builder.update({ position: btn.dataset.pos })
Â  Â  Â  Â  );
Â  Â  Â  });

Â  Â  Â  // THEMES PREDEFINIS
Â  Â  Â  document.querySelectorAll("[data-theme-name]").forEach(btn => {
Â  Â  Â  Â  btn.addEventListener("click", async () => {
Â  Â  Â  Â  Â  const name = btn.dataset.themeName;
Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const res Â = await fetch(`../public/themes/${name}.json`);
Â  Â  Â  Â  Â  Â  const data = await res.json();
Â  Â  Â  Â  Â  Â  Builder.replace(data);
Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error("Erreur chargement thÃ¨me", name, e);
Â  Â  Â  Â  Â  Â  alert("Impossible de charger le thÃ¨me " + name);
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  Â  // EXPORT / OVERLAY
Â  Â  Â  btnOpen.addEventListener("click", Â () => Builder.openOverlay());
Â  Â  Â  btnClose.addEventListener("click", () => Builder.closeOverlay());
Â  Â  Â  btnDownload.addEventListener("click", () => Builder.downloadJSON("config.json"));
Â  Â  Â  btnSnippet.addEventListener("click", async () => {
Â  Â  Â  Â  const s = Builder.generateSnippet();
Â  Â  Â  Â  await navigator.clipboard.writeText(s);
Â  Â  Â  Â  alert("Snippet copiÃ© ");
Â  Â  Â  });

Â  Â  Â  // RESET LOCAL
Â  Â  Â  btnResetLocal.addEventListener("click", () => {
Â  Â  Â  Â  if (confirm("Effacer la configuration locale ? Cette action est irrÃ©versible.")) {
Â  Â  Â  Â  Â  Builder.resetLocal();
Â  Â  Â  Â  Â  alert("Sauvegarde locale effacÃ©e ");
Â  Â  Â  Â  Â  location.reload();
Â  Â  Â  Â  }
Â  Â  Â  });

Â  Â  Â  // INITIAL PUSH
Â  Â  Â  if (primary.value) Builder.update({ theme: { primary: primary.value }});
Â  Â  })();
Â  </script>
</body>
</html>Â 
